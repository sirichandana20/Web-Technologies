<html>

<head>
    <meta charset="utf-8">
 <style>
    
     #centre{
         
         margin-top: 130px;
         margin-left:430px;
     }  
    
     #text{
         margin-left:150px;
     }
     #btn{
         margin-left:210px;
         background-color:white;
     }
</style>  
    <script language="javascript">


        
function viewJSON(what)
{
    var URL = what.URL.value; 
    
    function loadJSON(url) 
    {
    if (window.XMLHttpRequest)
    {   xmlhttp=new XMLHttpRequest();
        xmlhttp.overrideMimeType("application/json");
    } 
    xmlhttp.open("GET",url,false); 
    
    xmlhttp.onreadystatechange = function()
    {
    if (xmlhttp.readyState == 4) {
    
    
    
    jsonObj= JSON.parse(xmlhttp.responseText);
  
    }
    }
    xmlhttp.send();
    return jsonObj;
    }
   
    
    jsonObj = loadJSON(URL);
    jsonObj=jsonObj.Mainline.Table;
    generateHTML(jsonObj);

 
    hWin = window.open("","",'scrollbars=yes,width=1080,height=1020');
hWin.document.write(html_text);
hWin.document.close();
}
    

        
        

function generateHTML(jsonObj) 
{
    html_text="<html><head><title>JSON Parse Result</title></head><body>";
    html_text+="<table border='2' height='1080' width='800'>";
    html_text+="<tbody>";
    html_text+="<tr>"; 
    planes=jsonObj.Header;
    planeNodeList=planes.Data
    

    var header_keys = Object.keys(planeNodeList); 
for(i=0;i<header_keys.length;i++) 
{
    header=header_keys[i];
    if(header=="Parent Company") 
    { 
        header="Family"; x=120; y=55; ; 
    } 
    if(header=="Subsidiary Portfolio / Services") 
    { header="Subsidiary Portfolio / Services"; 
    }
    if(header=="HQ / Info") 
    header="HQ / Info"; 
    
    if(header=="Annual Revenue ($ million)") 
        header="Annual Revenue ($ million)"; 
    if(header=="HomePage") 
        header="HomePage"; 
    if(header=="Logo") 
        header="Logo"; 
    
    html_text+="<th>"+header+"</th>";

}
    html_text+="</tr>";

    for(i=0;i<planes.length;i++) 
    {
    planeNodeList=planes[i]; 
    html_text+="<tr>"; 
    
    var aircraft_keys = Object.keys(planeNodeList); 
    
    for(j=0;j<aircraft_keys.length;j++)
    {
    prop = aircraft_keys[j]; 
    if(aircraft_keys[j]=="Image")
    {
        html_text+="<td><img src='"+ planeNodeList[prop] +"' width='"+x+"' height='"+y+"'></td>"; 
    } 
    else 
    {
        html_text+="<td>"+ planeNodeList[prop] +"</td>";
    } 
    }
    html_text+="</tr>"; 
    }
    html_text+="</tbody>"; 
    html_text+="</table>";
    html_text+="</body></html>";
}

</script>
</head>
    
<body>
    
<div id="centre">   
<h1>Enter URL for Trucking List JSON File </h1>
<form name="myform" method="POST" id="location">
    <div id="text">
<input type="text" name="URL" maxlength="255" size="30" value="truckinglist.json" />
    </div>
<br />
<div id="btn">
<input type="button" name="submit" value="Submit Query" onClick="viewJSON(this.form)" />
        </div>
</form>
 
        </div>   
</body>
</html>